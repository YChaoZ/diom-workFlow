# å·¥ä½œæµç³»ç»ŸåŠŸèƒ½ä¼˜åŒ–è·¯çº¿å›¾

## ğŸ“Š å½“å‰ç³»ç»ŸçŠ¶æ€

**å·²å®Œæˆ** âœ…:
- å¾®æœåŠ¡æ¶æ„ï¼ˆGateway + Auth + Web + Workflowï¼‰
- å·¥ä½œæµå¼•æ“ï¼ˆCamunda 7.16ï¼‰
- å®Œæ•´çš„åç«¯APIï¼ˆ30+ æ¥å£ï¼‰
- å‰ç«¯ç®¡ç†ç•Œé¢ï¼ˆ5ä¸ªæ ¸å¿ƒé¡µé¢ï¼‰
- ç«¯åˆ°ç«¯æµ‹è¯•éªŒè¯

**ç³»ç»Ÿè¯„åˆ†**: â­â­â­â­â­ (5/5)

---

## ğŸ¯ ä¼˜åŒ–æ–¹å‘é€‰æ‹©

### é€‰é¡¹ A: å¿«é€Ÿä¼˜åŒ–ï¼ˆæ¨èâ­â­â­â­â­ï¼‰

**ç›®æ ‡**: è§£å†³æµ‹è¯•ä¸­å‘ç°çš„å°é—®é¢˜ï¼Œæå‡ç”¨æˆ·ä½“éªŒ

**é¢„è®¡æ—¶é—´**: 2-3å°æ—¶

**ä¼˜åŒ–å†…å®¹**:
1. âœ… æ·»åŠ managerç”¨æˆ·åˆ°æ•°æ®åº“
2. âœ… ç»Ÿä¸€æ—¶é—´æ ¼å¼æ˜¾ç¤ºï¼ˆä¸­æ–‡æ ¼å¼ï¼‰
3. âœ… ä¼˜åŒ–å‰ç«¯ä½“éªŒç»†èŠ‚
4. âœ… å®Œå–„æµç¨‹å®¡æ‰¹åŠŸèƒ½

**ä»·å€¼**: 
- ç«‹å³å¯ç”¨çš„å®Œæ•´å®¡æ‰¹æµç¨‹
- æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ
- ä¿®å¤å·²çŸ¥å°é—®é¢˜

---

### é€‰é¡¹ B: BPMNæµç¨‹å›¾å¯è§†åŒ–ï¼ˆæ¨èâ­â­â­â­ï¼‰

**ç›®æ ‡**: é›†æˆæµç¨‹å›¾å±•ç¤ºï¼Œè®©ç”¨æˆ·ç›´è§‚çœ‹åˆ°æµç¨‹èµ°å‘

**é¢„è®¡æ—¶é—´**: 1-2å¤©

**ä¼˜åŒ–å†…å®¹**:
1. âœ… é›†æˆ bpmn-js åº“
2. âœ… åœ¨æµç¨‹å®šä¹‰é¡µé¢æ˜¾ç¤ºæµç¨‹å›¾
3. âœ… åœ¨æµç¨‹å®ä¾‹é¡µé¢é«˜äº®å½“å‰èŠ‚ç‚¹
4. âœ… æ”¯æŒæµç¨‹å›¾ç¼©æ”¾ã€æ‹–æ‹½

**ä»·å€¼**:
- å¤§å¹…æå‡ç”¨æˆ·ä½“éªŒ
- ç›´è§‚å±•ç¤ºæµç¨‹ç»“æ„
- ä¾¿äºç†è§£å’Œè°ƒè¯•æµç¨‹

---

### é€‰é¡¹ C: ç”¨æˆ·ç®¡ç†ç³»ç»Ÿï¼ˆæ¨èâ­â­â­â­ï¼‰

**ç›®æ ‡**: å®Œå–„RBACæƒé™ä½“ç³»

**é¢„è®¡æ—¶é—´**: 2-3å¤©

**ä¼˜åŒ–å†…å®¹**:
1. âœ… ç”¨æˆ·CRUDå®Œæ•´å®ç°
2. âœ… è§’è‰²ç®¡ç†
3. âœ… æƒé™é…ç½®
4. âœ… å‰ç«¯ç”¨æˆ·ç®¡ç†ç•Œé¢
5. âœ… ç”¨æˆ·åˆ†é…æµç¨‹ä»»åŠ¡

**ä»·å€¼**:
- å®Œæ•´çš„æƒé™ç®¡ç†
- å¤šç”¨æˆ·åä½œèƒ½åŠ›
- ä¼ä¸šçº§åŠŸèƒ½

---

### é€‰é¡¹ D: Swagger APIæ–‡æ¡£ï¼ˆæ¨èâ­â­â­ï¼‰

**ç›®æ ‡**: ç”Ÿæˆä¸“ä¸šçš„APIæ–‡æ¡£

**é¢„è®¡æ—¶é—´**: 1å¤©

**ä¼˜åŒ–å†…å®¹**:
1. âœ… é›†æˆ Swagger 3.0
2. âœ… ä¸ºæ‰€æœ‰APIæ·»åŠ æ³¨è§£
3. âœ… ç”Ÿæˆäº¤äº’å¼æ–‡æ¡£
4. âœ… æ”¯æŒåœ¨çº¿æµ‹è¯•

**ä»·å€¼**:
- æå‡APIå¯ç”¨æ€§
- æ–¹ä¾¿å‰åç«¯å¯¹æ¥
- ä¸“ä¸šçš„æŠ€æœ¯æ–‡æ¡£

---

### é€‰é¡¹ E: é«˜çº§æŸ¥è¯¢å’Œç­›é€‰ï¼ˆæ¨èâ­â­â­ï¼‰

**ç›®æ ‡**: å¢å¼ºæ•°æ®æŸ¥è¯¢èƒ½åŠ›

**é¢„è®¡æ—¶é—´**: 2å¤©

**ä¼˜åŒ–å†…å®¹**:
1. âœ… æµç¨‹å®ä¾‹é«˜çº§æŸ¥è¯¢
2. âœ… ä»»åŠ¡å¤šæ¡ä»¶ç­›é€‰
3. âœ… æ—¥æœŸèŒƒå›´æŸ¥è¯¢
4. âœ… çœŸæ­£çš„åç«¯åˆ†é¡µ
5. âœ… æ•°æ®å¯¼å‡ºåŠŸèƒ½

**ä»·å€¼**:
- æå‡å¤§æ•°æ®é‡åœºæ™¯æ€§èƒ½
- æ›´çµæ´»çš„æŸ¥è¯¢èƒ½åŠ›
- æ›´å¥½çš„æ•°æ®ç®¡ç†

---

### é€‰é¡¹ F: Dockeréƒ¨ç½²æ–¹æ¡ˆï¼ˆæ¨èâ­â­â­â­ï¼‰

**ç›®æ ‡**: ä¸€é”®éƒ¨ç½²æ•´ä¸ªç³»ç»Ÿ

**é¢„è®¡æ—¶é—´**: 1-2å¤©

**ä¼˜åŒ–å†…å®¹**:
1. âœ… ç¼–å†™ Dockerfile
2. âœ… ç¼–å†™ docker-compose.yml
3. âœ… é…ç½®ç¯å¢ƒå˜é‡
4. âœ… æœåŠ¡ç¼–æ’
5. âœ… éƒ¨ç½²æ–‡æ¡£

**ä»·å€¼**:
- ç®€åŒ–éƒ¨ç½²æµç¨‹
- ç¯å¢ƒä¸€è‡´æ€§
- æ˜“äºæ‰©å±•

---

### é€‰é¡¹ G: ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿï¼ˆæ¨èâ­â­â­ï¼‰

**ç›®æ ‡**: å¢å¼ºç³»ç»Ÿå¯è§‚æµ‹æ€§

**é¢„è®¡æ—¶é—´**: 2-3å¤©

**ä¼˜åŒ–å†…å®¹**:
1. âœ… é›†æˆ Actuator å¥åº·æ£€æŸ¥
2. âœ… é›†æˆ Prometheus + Grafana
3. âœ… é›†æˆ ELK æ—¥å¿—æ”¶é›†
4. âœ… å‘Šè­¦é…ç½®
5. âœ… ç›‘æ§å¤§å±

**ä»·å€¼**:
- å®æ—¶ç›‘æ§ç³»ç»ŸçŠ¶æ€
- å¿«é€Ÿå®šä½é—®é¢˜
- ç”Ÿäº§ç¯å¢ƒå¿…å¤‡

---

## ğŸ¯ æˆ‘çš„å»ºè®®

æ ¹æ®å½“å‰ç³»ç»ŸçŠ¶æ€å’Œä½ çš„éœ€æ±‚ï¼Œæˆ‘å»ºè®®æŒ‰ä»¥ä¸‹é¡ºåºè¿›è¡Œä¼˜åŒ–ï¼š

### ğŸ¥‡ ç¬¬ä¸€ä¼˜å…ˆçº§ï¼šé€‰é¡¹ Aï¼ˆå¿«é€Ÿä¼˜åŒ–ï¼‰

**ç†ç”±**:
- âœ… ç«‹å³è§£å†³æµ‹è¯•ä¸­å‘ç°çš„é—®é¢˜
- âœ… æ—¶é—´æŠ•å…¥å°‘ï¼Œæ”¶ç›Šå¤§
- âœ… è®©ç³»ç»Ÿç«‹å³å¯ç”¨

**åŒ…å«å†…å®¹**:
1. æ·»åŠ managerç”¨æˆ·
2. ä¿®å¤æ—¶é—´æ˜¾ç¤ºæ ¼å¼
3. å®Œå–„å®¡æ‰¹æµç¨‹
4. æµ‹è¯•å®Œæ•´çš„ä¸¤çº§å®¡æ‰¹

**é¢„è®¡æ—¶é—´**: 2-3å°æ—¶

---

### ğŸ¥ˆ ç¬¬äºŒä¼˜å…ˆçº§ï¼šé€‰é¡¹ Bï¼ˆæµç¨‹å›¾å¯è§†åŒ–ï¼‰

**ç†ç”±**:
- âœ… æ˜¾è‘—æå‡ç”¨æˆ·ä½“éªŒ
- âœ… å·¥ä½œæµç³»ç»Ÿçš„æ ‡å¿—æ€§åŠŸèƒ½
- âœ… ä¾¿äºç†è§£å’Œè°ƒè¯•

**é¢„è®¡æ—¶é—´**: 1-2å¤©

---

### ğŸ¥‰ ç¬¬ä¸‰ä¼˜å…ˆçº§ï¼šé€‰é¡¹ C æˆ– D æˆ– F

æ ¹æ®ä½ çš„å®é™…éœ€æ±‚é€‰æ‹©ï¼š
- **é€‰C**: å¦‚æœéœ€è¦å¤šç”¨æˆ·ç®¡ç†
- **é€‰D**: å¦‚æœéœ€è¦å¯¹å¤–æä¾›API
- **é€‰F**: å¦‚æœéœ€è¦å¿«é€Ÿéƒ¨ç½²

---

## ğŸ“ è¯¦ç»†å®æ–½è®¡åˆ’

### ã€é€‰é¡¹ Aã€‘å¿«é€Ÿä¼˜åŒ– - è¯¦ç»†æ­¥éª¤

#### Step 1: æ·»åŠ managerç”¨æˆ·ï¼ˆ10åˆ†é’Ÿï¼‰

```sql
-- 1. æ·»åŠ managerç”¨æˆ·
INSERT INTO `sys_user` (`username`, `password`, `nickname`, `email`, `status`)
VALUES 
('manager', '$2a$10$dXJ3SW6G7P50lGmMkkmwe.20cQQubK3.HZWzG3YB1tlRy.fqvM/BG', 
 'éƒ¨é—¨ç»ç†', 'manager@diom.com', 1),
('hr', '$2a$10$dXJ3SW6G7P50lGmMkkmwe.20cQQubK3.HZWzG3YB1tlRy.fqvM/BG', 
 'HRä¸“å‘˜', 'hr@diom.com', 1);
```

#### Step 2: ç»Ÿä¸€æ—¶é—´æ ¼å¼ï¼ˆ30åˆ†é’Ÿï¼‰

**ä¿®æ”¹æ–‡ä»¶**: `diom-frontend/src/views/Workflow/Tasks.vue`

```javascript
// æ ¼å¼åŒ–æ—¶é—´
const formatTime = (time) => {
  if (!time) return '-'
  return new Date(time).toLocaleString('zh-CN', {
    year: 'numeric',
    month: '2-digit',
    day: '2-digit',
    hour: '2-digit',
    minute: '2-digit',
    second: '2-digit'
  })
}

// åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨
{{ formatTime(task.createTime) }}
```

#### Step 3: ä¼˜åŒ–ä»»åŠ¡è¯¦æƒ…é¡µï¼ˆ30åˆ†é’Ÿï¼‰

**æ·»åŠ åŠŸèƒ½**:
- æ˜¾ç¤ºä»»åŠ¡ä¼˜å…ˆçº§
- æ˜¾ç¤ºæµç¨‹è¿›åº¦
- æ·»åŠ è¿”å›æŒ‰é’®ä¼˜åŒ–

#### Step 4: å®Œæ•´æµç¨‹æµ‹è¯•ï¼ˆ1å°æ—¶ï¼‰

æµ‹è¯•å®Œæ•´çš„ä¸‰æ­¥å®¡æ‰¹æµç¨‹ï¼š
```
ç”³è¯·äºº(admin) â†’ éƒ¨é—¨ç»ç†(manager) â†’ HR(hr) â†’ å®Œæˆ
```

---

### ã€é€‰é¡¹ Bã€‘BPMNæµç¨‹å›¾å¯è§†åŒ– - è¯¦ç»†æ­¥éª¤

#### Step 1: å®‰è£…ä¾èµ–ï¼ˆ10åˆ†é’Ÿï¼‰

```bash
cd diom-frontend
npm install bpmn-js
```

#### Step 2: åˆ›å»ºæµç¨‹å›¾ç»„ä»¶ï¼ˆ2å°æ—¶ï¼‰

**æ–°å»ºæ–‡ä»¶**: `src/components/BpmnViewer.vue`

```vue
<template>
  <div ref="canvas" class="bpmn-canvas"></div>
</template>

<script setup>
import { ref, onMounted } from 'vue'
import BpmnViewer from 'bpmn-js/lib/Viewer'

const props = defineProps({
  xml: String,
  currentActivityId: String
})

const canvas = ref(null)
let viewer = null

onMounted(async () => {
  viewer = new BpmnViewer({
    container: canvas.value,
    height: 500
  })
  
  if (props.xml) {
    await viewer.importXML(props.xml)
    
    // é«˜äº®å½“å‰èŠ‚ç‚¹
    if (props.currentActivityId) {
      const canvas = viewer.get('canvas')
      canvas.addMarker(props.currentActivityId, 'highlight')
    }
  }
})
</script>

<style>
.bpmn-canvas {
  height: 500px;
  border: 1px solid #e0e0e0;
}
.highlight :not(.djs-connection) .djs-visual > :nth-child(1) {
  fill: green !important;
  stroke: darkgreen !important;
}
</style>
```

#### Step 3: åç«¯æä¾›BPMN XMLæ¥å£ï¼ˆ1å°æ—¶ï¼‰

**æ–°å¢æ¥å£**: `GET /workflow/definition/{key}/xml`

```java
@GetMapping("/definition/{key}/xml")
public Result<String> getProcessDefinitionXml(@PathVariable String key) {
    String xml = workflowService.getProcessDefinitionXml(key);
    return Result.success(xml);
}
```

#### Step 4: é›†æˆåˆ°é¡µé¢ï¼ˆ1å°æ—¶ï¼‰

åœ¨æµç¨‹å®šä¹‰åˆ—è¡¨ã€æµç¨‹å®ä¾‹é¡µé¢é›†æˆæµç¨‹å›¾å±•ç¤º

---

## ğŸš€ ç«‹å³å¼€å§‹

ä½ æƒ³ä»å“ªä¸ªé€‰é¡¹å¼€å§‹ï¼Ÿ

**æ¨èé¡ºåº**:
1. **é€‰é¡¹ A** - å¿«é€Ÿä¼˜åŒ–ï¼ˆ2-3å°æ—¶ï¼‰âœ… æ¨èç«‹å³å¼€å§‹
2. **é€‰é¡¹ B** - æµç¨‹å›¾å¯è§†åŒ–ï¼ˆ1-2å¤©ï¼‰
3. **é€‰é¡¹ C/D/F** - æ ¹æ®éœ€æ±‚é€‰æ‹©

---

## ğŸ“Š ä¼˜åŒ–æ•ˆæœé¢„æµ‹

### å®Œæˆé€‰é¡¹Aå

```
åŠŸèƒ½å®Œæ•´åº¦: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
ç”¨æˆ·ä½“éªŒ:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  80% â†’ 90%
æ€§èƒ½è¡¨ç°:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  80%
å¯ç»´æŠ¤æ€§:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  80%
```

### å®Œæˆé€‰é¡¹A+Bå

```
åŠŸèƒ½å®Œæ•´åº¦: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
ç”¨æˆ·ä½“éªŒ:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% â­
æ€§èƒ½è¡¨ç°:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  80%
å¯ç»´æŠ¤æ€§:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  80%
```

### å®Œæˆé€‰é¡¹A+B+Cå

```
åŠŸèƒ½å®Œæ•´åº¦: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
ç”¨æˆ·ä½“éªŒ:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
æ€§èƒ½è¡¨ç°:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  80%
å¯ç»´æŠ¤æ€§:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘  90%
```

---

## â“ è¯·é€‰æ‹©ä½ çš„ä¼˜åŒ–æ–¹å‘

**A** - å¿«é€Ÿä¼˜åŒ–ï¼ˆæ¨èâ­â­â­â­â­ï¼Œç«‹å³å¼€å§‹ï¼‰  
**B** - BPMNæµç¨‹å›¾å¯è§†åŒ–  
**C** - ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ  
**D** - Swagger APIæ–‡æ¡£  
**E** - é«˜çº§æŸ¥è¯¢å’Œç­›é€‰  
**F** - Dockeréƒ¨ç½²æ–¹æ¡ˆ  
**G** - ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿ  
**H** - æˆ‘æœ‰å…¶ä»–æƒ³æ³•ï¼ˆè¯·å‘Šè¯‰æˆ‘ï¼‰

**æˆ–è€…ç›´æ¥è¯´"æŒ‰æ¨èé¡ºåº"ï¼Œæˆ‘å°†æŒ‰ A â†’ B â†’ C/D/F çš„é¡ºåºè¿›è¡Œï¼**

å‘Šè¯‰æˆ‘ä½ çš„é€‰æ‹©ï¼Œæˆ‘ç«‹å³å¼€å§‹å®æ–½ï¼ğŸš€

