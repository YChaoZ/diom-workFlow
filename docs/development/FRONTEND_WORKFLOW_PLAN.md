# å‰ç«¯å·¥ä½œæµç•Œé¢å¼€å‘è®¡åˆ’

## ğŸ¯ å¼€å‘ç›®æ ‡

å®ç°å®Œæ•´çš„å·¥ä½œæµç®¡ç†ç•Œé¢ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿé€šè¿‡å¯è§†åŒ–ç•Œé¢æ“ä½œå·¥ä½œæµã€‚

---

## ğŸ“‹ é¡µé¢è§„åˆ’

### 1. æµç¨‹ç®¡ç†æ¨¡å—

#### 1.1 æµç¨‹å®šä¹‰åˆ—è¡¨é¡µé¢ `/workflow/definitions`
```
åŠŸèƒ½ï¼š
âœ“ å±•ç¤ºæ‰€æœ‰å¯ç”¨çš„æµç¨‹å®šä¹‰
âœ“ æ˜¾ç¤ºæµç¨‹åç§°ã€Keyã€ç‰ˆæœ¬ã€çŠ¶æ€
âœ“ æä¾›"å¯åŠ¨æµç¨‹"æŒ‰é’®
âœ“ æœç´¢å’Œç­›é€‰åŠŸèƒ½

å¸ƒå±€ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æµç¨‹å®šä¹‰ç®¡ç†                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ” æœç´¢æµç¨‹...          [+ å¯åŠ¨æµç¨‹] â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“‹ è¯·å‡å®¡æ‰¹æµç¨‹                       â”‚  â”‚
â”‚  â”‚ Key: leave-approval-process          â”‚  â”‚
â”‚  â”‚ ç‰ˆæœ¬: v1  çŠ¶æ€: å·²æ¿€æ´»               â”‚  â”‚
â”‚  â”‚                    [å¯åŠ¨æµç¨‹]  [è¯¦æƒ…]â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“‹ ç®€å•æµç¨‹                           â”‚  â”‚
â”‚  â”‚ Key: simple-process                  â”‚  â”‚
â”‚  â”‚ ç‰ˆæœ¬: v2  çŠ¶æ€: å·²æ¿€æ´»               â”‚  â”‚
â”‚  â”‚                    [å¯åŠ¨æµç¨‹]  [è¯¦æƒ…]â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### 1.2 æµç¨‹å¯åŠ¨é¡µé¢ `/workflow/start/:processKey`
```
åŠŸèƒ½ï¼š
âœ“ åŠ¨æ€è¡¨å•ï¼ˆæ ¹æ®æµç¨‹å®šä¹‰ç”Ÿæˆï¼‰
âœ“ è¡¨å•éªŒè¯
âœ“ æäº¤å¯åŠ¨æµç¨‹
âœ“ æ˜¾ç¤ºå¯åŠ¨ç»“æœ

å¸ƒå±€ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¯åŠ¨æµç¨‹ï¼šè¯·å‡å®¡æ‰¹æµç¨‹                      â”‚
â”‚  â† è¿”å›                                     â”‚
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ç”³è¯·äººï¼š                              â”‚  â”‚
â”‚  â”‚ [å¼ ä¸‰________________]               â”‚  â”‚
â”‚  â”‚                                       â”‚  â”‚
â”‚  â”‚ å®¡æ‰¹äººï¼š                              â”‚  â”‚
â”‚  â”‚ [æå››________________]               â”‚  â”‚
â”‚  â”‚                                       â”‚  â”‚
â”‚  â”‚ è¯·å‡ç±»å‹ï¼š                            â”‚  â”‚
â”‚  â”‚ [å¹´å‡ â–¼]                             â”‚  â”‚
â”‚  â”‚                                       â”‚  â”‚
â”‚  â”‚ è¯·å‡å¤©æ•°ï¼š                            â”‚  â”‚
â”‚  â”‚ [3___]                               â”‚  â”‚
â”‚  â”‚                                       â”‚  â”‚
â”‚  â”‚ è¯·å‡åŸå› ï¼š                            â”‚  â”‚
â”‚  â”‚ [________________________            â”‚  â”‚
â”‚  â”‚  ________________________            â”‚  â”‚
â”‚  â”‚  ________________________]           â”‚  â”‚
â”‚  â”‚                                       â”‚  â”‚
â”‚  â”‚          [å–æ¶ˆ]  [æäº¤ç”³è¯·]          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2. ä»»åŠ¡ç®¡ç†æ¨¡å—

#### 2.1 å¾…åŠä»»åŠ¡é¡µé¢ `/workflow/tasks/todo`
```
åŠŸèƒ½ï¼š
âœ“ æ˜¾ç¤ºå½“å‰ç”¨æˆ·çš„å¾…åŠä»»åŠ¡åˆ—è¡¨
âœ“ ä»»åŠ¡ç­›é€‰ï¼ˆæŒ‰æµç¨‹ã€ä¼˜å…ˆçº§ã€æ—¶é—´ï¼‰
âœ“ ç‚¹å‡»ä»»åŠ¡æŸ¥çœ‹è¯¦æƒ…
âœ“ å¿«é€Ÿæ“ä½œï¼ˆå®Œæˆã€è½¬åŠï¼‰

å¸ƒå±€ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æˆ‘çš„å¾…åŠ (5)                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ” æœç´¢ä»»åŠ¡...  [æµç¨‹â–¼] [çŠ¶æ€â–¼]     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ”´ ç´§æ€¥  ç»ç†å®¡æ‰¹                     â”‚  â”‚
â”‚  â”‚ æµç¨‹: è¯·å‡å®¡æ‰¹æµç¨‹                    â”‚  â”‚
â”‚  â”‚ ç”³è¯·äºº: å¼ ä¸‰  å¤©æ•°: 3å¤©               â”‚  â”‚
â”‚  â”‚ åˆ›å»ºæ—¶é—´: 2025-11-15 13:00           â”‚  â”‚
â”‚  â”‚              [å¤„ç†]  [è½¬åŠ]  [è¯¦æƒ…]  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸŸ¡ æ™®é€š  HRå¤‡æ¡ˆ                       â”‚  â”‚
â”‚  â”‚ æµç¨‹: è¯·å‡å®¡æ‰¹æµç¨‹                    â”‚  â”‚
â”‚  â”‚ ç”³è¯·äºº: æå››  å¤©æ•°: 5å¤©               â”‚  â”‚
â”‚  â”‚ åˆ›å»ºæ—¶é—´: 2025-11-15 10:30           â”‚  â”‚
â”‚  â”‚              [å¤„ç†]  [è½¬åŠ]  [è¯¦æƒ…]  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### 2.2 ä»»åŠ¡è¯¦æƒ…å¯¹è¯æ¡†
```
åŠŸèƒ½ï¼š
âœ“ æ˜¾ç¤ºä»»åŠ¡å®Œæ•´ä¿¡æ¯
âœ“ æ˜¾ç¤ºæµç¨‹å˜é‡
âœ“ æä¾›æ“ä½œæŒ‰é’®ï¼ˆå®Œæˆã€è½¬åŠã€å§”æ´¾ï¼‰
âœ“ ä»»åŠ¡è¡¨å•ï¼ˆå¦‚æœæœ‰ï¼‰

å¸ƒå±€ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä»»åŠ¡è¯¦æƒ…ï¼šç»ç†å®¡æ‰¹                    [Ã—]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  åŸºæœ¬ä¿¡æ¯ï¼š                                 â”‚
â”‚  â€¢ ä»»åŠ¡åç§°ï¼šç»ç†å®¡æ‰¹                       â”‚
â”‚  â€¢ æ‰€å±æµç¨‹ï¼šè¯·å‡å®¡æ‰¹æµç¨‹                   â”‚
â”‚  â€¢ ç”³è¯·äººï¼šå¼ ä¸‰                             â”‚
â”‚  â€¢ åˆ›å»ºæ—¶é—´ï¼š2025-11-15 13:00              â”‚
â”‚                                             â”‚
â”‚  æµç¨‹å˜é‡ï¼š                                 â”‚
â”‚  â€¢ è¯·å‡ç±»å‹ï¼šå¹´å‡                           â”‚
â”‚  â€¢ è¯·å‡å¤©æ•°ï¼š3å¤©                            â”‚
â”‚  â€¢ å¼€å§‹æ—¥æœŸï¼š2025-12-01                    â”‚
â”‚  â€¢ ç»“æŸæ—¥æœŸï¼š2025-12-03                    â”‚
â”‚  â€¢ è¯·å‡åŸå› ï¼šå¹´åº¦æ—…æ¸¸                       â”‚
â”‚                                             â”‚
â”‚  å®¡æ‰¹æ“ä½œï¼š                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å®¡æ‰¹æ„è§ï¼š                            â”‚  â”‚
â”‚  â”‚ [åŒæ„è¯·å‡ç”³è¯·_________________       â”‚  â”‚
â”‚  â”‚  _____________________________       â”‚  â”‚
â”‚  â”‚  _____________________________]      â”‚  â”‚
â”‚  â”‚                                       â”‚  â”‚
â”‚  â”‚  â˜‘ åŒæ„   â˜ æ‹’ç»                     â”‚  â”‚
â”‚  â”‚                                       â”‚  â”‚
â”‚  â”‚        [å–æ¶ˆ]  [æäº¤å®¡æ‰¹]            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3. æµç¨‹ç›‘æ§æ¨¡å—

#### 3.1 æµç¨‹å®ä¾‹åˆ—è¡¨ `/workflow/instances`
```
åŠŸèƒ½ï¼š
âœ“ æ˜¾ç¤ºæ‰€æœ‰æµç¨‹å®ä¾‹ï¼ˆè¿è¡Œä¸­ã€å·²å®Œæˆï¼‰
âœ“ ç­›é€‰ï¼ˆæŒ‰çŠ¶æ€ã€æµç¨‹ç±»å‹ã€æ—¶é—´ï¼‰
âœ“ æŸ¥çœ‹æµç¨‹è¯¦æƒ…
âœ“ æŸ¥çœ‹æµç¨‹è½¨è¿¹

å¸ƒå±€ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æµç¨‹å®ä¾‹ç›‘æ§                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [å…¨éƒ¨â–¼] [è¿è¡Œä¸­â–¼] [å·²å®Œæˆâ–¼]         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸŸ¢ è¿è¡Œä¸­  è¯·å‡å®¡æ‰¹æµç¨‹               â”‚  â”‚
â”‚  â”‚ å®ä¾‹ID: c2893a56-xxx                 â”‚  â”‚
â”‚  â”‚ ç”³è¯·äºº: å¼ ä¸‰  å½“å‰èŠ‚ç‚¹: ç»ç†å®¡æ‰¹      â”‚  â”‚
â”‚  â”‚ å¼€å§‹æ—¶é—´: 2025-11-15 13:00           â”‚  â”‚
â”‚  â”‚                   [è¯¦æƒ…]  [æµç¨‹å›¾]   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âœ… å·²å®Œæˆ  è¯·å‡å®¡æ‰¹æµç¨‹               â”‚  â”‚
â”‚  â”‚ å®ä¾‹ID: a1234567-xxx                 â”‚  â”‚
â”‚  â”‚ ç”³è¯·äºº: æå››  ç»“æœ: å®¡æ‰¹é€šè¿‡          â”‚  â”‚
â”‚  â”‚ å®Œæˆæ—¶é—´: 2025-11-14 16:30           â”‚  â”‚
â”‚  â”‚                   [è¯¦æƒ…]  [æµç¨‹å›¾]   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### 3.2 æµç¨‹è¯¦æƒ…é¡µé¢ `/workflow/instances/:id`
```
åŠŸèƒ½ï¼š
âœ“ æ˜¾ç¤ºæµç¨‹å®ä¾‹è¯¦ç»†ä¿¡æ¯
âœ“ æ˜¾ç¤ºæ‰€æœ‰æµç¨‹å˜é‡
âœ“ æ˜¾ç¤ºä»»åŠ¡æ‰§è¡Œå†å²
âœ“ æ˜¾ç¤ºæµç¨‹è½¨è¿¹å›¾ï¼ˆå¯é€‰ï¼‰

å¸ƒå±€ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æµç¨‹è¯¦æƒ…                              â† è¿”å›â”‚
â”‚                                             â”‚
â”‚  åŸºæœ¬ä¿¡æ¯                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ æµç¨‹åç§°ï¼šè¯·å‡å®¡æ‰¹æµç¨‹                â”‚  â”‚
â”‚  â”‚ å®ä¾‹IDï¼šc2893a56-c1e5-11f0-xxx       â”‚  â”‚
â”‚  â”‚ ç”³è¯·äººï¼šå¼ ä¸‰                          â”‚  â”‚
â”‚  â”‚ çŠ¶æ€ï¼šè¿è¡Œä¸­                          â”‚  â”‚
â”‚  â”‚ å¼€å§‹æ—¶é—´ï¼š2025-11-15 13:00           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                             â”‚
â”‚  æµç¨‹å˜é‡                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ applicant: å¼ ä¸‰                       â”‚  â”‚
â”‚  â”‚ manager: æå››                         â”‚  â”‚
â”‚  â”‚ days: 3                               â”‚  â”‚
â”‚  â”‚ reason: å¹´åº¦æ—…æ¸¸                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                             â”‚
â”‚  æ‰§è¡Œå†å²                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âœ… å¼€å§‹ - 2025-11-15 13:00:00        â”‚  â”‚
â”‚  â”‚ â±ï¸ ç»ç†å®¡æ‰¹ - è¿›è¡Œä¸­ (æå››)          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 4. å†å²æŸ¥è¯¢æ¨¡å—

#### 4.1 å†å²æŸ¥è¯¢é¡µé¢ `/workflow/history`
```
åŠŸèƒ½ï¼š
âœ“ æŸ¥è¯¢å·²å®Œæˆçš„æµç¨‹å®ä¾‹
âœ“ æŸ¥è¯¢å†å²ä»»åŠ¡
âœ“ å¯¼å‡ºå†å²æ•°æ®ï¼ˆå¯é€‰ï¼‰
âœ“ ç»Ÿè®¡åˆ†æï¼ˆå¯é€‰ï¼‰

å¸ƒå±€ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å†å²æŸ¥è¯¢                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [æµç¨‹ç±»å‹â–¼] [æ—¶é—´èŒƒå›´â–¼] [æŸ¥è¯¢]      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ è¯·å‡å®¡æ‰¹æµç¨‹                          â”‚  â”‚
â”‚  â”‚ ç”³è¯·äºº: å¼ ä¸‰  ç»“æœ: å®¡æ‰¹é€šè¿‡          â”‚  â”‚
â”‚  â”‚ å¼€å§‹: 2025-11-10 09:00               â”‚  â”‚
â”‚  â”‚ ç»“æŸ: 2025-11-10 15:30               â”‚  â”‚
â”‚  â”‚ è€—æ—¶: 6.5å°æ—¶                        â”‚  â”‚
â”‚  â”‚                            [æŸ¥çœ‹è¯¦æƒ…]â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ æŠ€æœ¯å®ç°

### å‰ç«¯æŠ€æœ¯æ ˆ
```
Vue 3
â”œâ”€ Vue Router (è·¯ç”±ç®¡ç†)
â”œâ”€ Pinia (çŠ¶æ€ç®¡ç†)
â”œâ”€ Element Plus (UIç»„ä»¶åº“)
â”œâ”€ Axios (HTTPè¯·æ±‚)
â””â”€ bpmn.js (æµç¨‹å›¾å¯è§†åŒ– - å¯é€‰)
```

### æ–‡ä»¶ç»“æ„
```
diom-frontend/src/
â”œâ”€â”€ views/
â”‚   â””â”€â”€ workflow/
â”‚       â”œâ”€â”€ ProcessDefinitions.vue    # æµç¨‹å®šä¹‰åˆ—è¡¨
â”‚       â”œâ”€â”€ StartProcess.vue          # å¯åŠ¨æµç¨‹
â”‚       â”œâ”€â”€ TodoTasks.vue             # å¾…åŠä»»åŠ¡
â”‚       â”œâ”€â”€ ProcessInstances.vue      # æµç¨‹å®ä¾‹ç›‘æ§
â”‚       â”œâ”€â”€ ProcessDetail.vue         # æµç¨‹è¯¦æƒ…
â”‚       â””â”€â”€ History.vue               # å†å²æŸ¥è¯¢
â”‚
â”œâ”€â”€ components/
â”‚   â””â”€â”€ workflow/
â”‚       â”œâ”€â”€ TaskCard.vue              # ä»»åŠ¡å¡ç‰‡
â”‚       â”œâ”€â”€ TaskDetailDialog.vue      # ä»»åŠ¡è¯¦æƒ…å¯¹è¯æ¡†
â”‚       â”œâ”€â”€ ProcessForm.vue           # æµç¨‹è¡¨å•
â”‚       â””â”€â”€ ProcessTimeline.vue       # æµç¨‹æ—¶é—´çº¿
â”‚
â”œâ”€â”€ api/
â”‚   â””â”€â”€ workflow.js                   # å·¥ä½œæµAPIå°è£…
â”‚
â””â”€â”€ store/
    â””â”€â”€ workflow.js                   # å·¥ä½œæµçŠ¶æ€ç®¡ç†
```

---

## ğŸ“ å¼€å‘æ­¥éª¤

### Step 1: åˆ›å»ºAPIæ¥å£å°è£… (30åˆ†é’Ÿ)

**æ–‡ä»¶**: `src/api/workflow.js`
```javascript
import request from '@/utils/request'

// æµç¨‹å®šä¹‰
export const getProcessDefinitions = () => {
  return request.get('/workflow/definitions')
}

export const getProcessDefinitionByKey = (key) => {
  return request.get(`/workflow/definition/${key}`)
}

// æµç¨‹å®ä¾‹
export const startProcess = (processKey, variables) => {
  return request.post(`/workflow/start/${processKey}`, variables)
}

export const getProcessInstance = (instanceId) => {
  return request.get(`/workflow/instance/${instanceId}`)
}

export const getProcessVariables = (instanceId) => {
  return request.get(`/workflow/instance/${instanceId}/variables`)
}

// ä»»åŠ¡ç®¡ç†
export const getTodoTasks = (assignee) => {
  return request.get('/workflow/tasks', { params: { assignee } })
}

export const getTaskDetail = (taskId) => {
  return request.get(`/workflow/task/${taskId}`)
}

export const completeTask = (taskId, variables) => {
  return request.post(`/workflow/task/${taskId}/complete`, variables)
}

export const claimTask = (taskId, userId) => {
  return request.post(`/workflow/task/${taskId}/claim`, null, {
    params: { userId }
  })
}

// å†å²æŸ¥è¯¢
export const getHistoricProcessInstances = (processDefinitionKey) => {
  return request.get('/workflow/history/instances', {
    params: { processDefinitionKey }
  })
}

export const getHistoricTasks = (processInstanceId) => {
  return request.get('/workflow/history/tasks', {
    params: { processInstanceId }
  })
}
```

---

### Step 2: åˆ›å»ºæµç¨‹å®šä¹‰åˆ—è¡¨é¡µé¢ (1-2å°æ—¶)

**æ–‡ä»¶**: `src/views/workflow/ProcessDefinitions.vue`
```vue
<template>
  <div class="process-definitions">
    <el-card>
      <template #header>
        <div class="header">
          <span>æµç¨‹å®šä¹‰ç®¡ç†</span>
          <el-button type="primary" icon="Plus" @click="handleStartProcess">
            å¯åŠ¨æµç¨‹
          </el-button>
        </div>
      </template>

      <!-- æœç´¢æ  -->
      <el-input
        v-model="searchText"
        placeholder="æœç´¢æµç¨‹..."
        prefix-icon="Search"
        clearable
        style="margin-bottom: 20px"
      />

      <!-- æµç¨‹åˆ—è¡¨ -->
      <el-row :gutter="20">
        <el-col 
          v-for="process in filteredProcesses" 
          :key="process.id"
          :span="12"
        >
          <el-card class="process-card" shadow="hover">
            <div class="process-header">
              <el-icon size="24"><Document /></el-icon>
              <span class="process-name">{{ process.name }}</span>
            </div>
            <div class="process-info">
              <el-tag size="small">Key: {{ process.key }}</el-tag>
              <el-tag size="small" type="info">v{{ process.version }}</el-tag>
              <el-tag 
                size="small" 
                :type="process.suspended ? 'danger' : 'success'"
              >
                {{ process.suspended ? 'å·²æš‚åœ' : 'å·²æ¿€æ´»' }}
              </el-tag>
            </div>
            <div class="process-actions">
              <el-button 
                type="primary" 
                size="small"
                @click="handleStart(process.key)"
              >
                å¯åŠ¨æµç¨‹
              </el-button>
              <el-button 
                size="small"
                @click="handleViewDetail(process)"
              >
                æŸ¥çœ‹è¯¦æƒ…
              </el-button>
            </div>
          </el-card>
        </el-col>
      </el-row>

      <!-- ç©ºçŠ¶æ€ -->
      <el-empty 
        v-if="filteredProcesses.length === 0"
        description="æš‚æ— æµç¨‹å®šä¹‰"
      />
    </el-card>
  </div>
</template>

<script setup>
import { ref, computed, onMounted } from 'vue'
import { useRouter } from 'vue-router'
import { ElMessage } from 'element-plus'
import { getProcessDefinitions } from '@/api/workflow'
import { Document, Plus, Search } from '@element-plus/icons-vue'

const router = useRouter()
const searchText = ref('')
const processes = ref([])
const loading = ref(false)

// è¿‡æ»¤æµç¨‹
const filteredProcesses = computed(() => {
  if (!searchText.value) return processes.value
  return processes.value.filter(p => 
    p.name.includes(searchText.value) || 
    p.key.includes(searchText.value)
  )
})

// åŠ è½½æµç¨‹å®šä¹‰
const loadProcesses = async () => {
  loading.value = true
  try {
    const res = await getProcessDefinitions()
    if (res.code === 200) {
      processes.value = res.data
    }
  } catch (error) {
    ElMessage.error('åŠ è½½æµç¨‹å®šä¹‰å¤±è´¥')
  } finally {
    loading.value = false
  }
}

// å¯åŠ¨æµç¨‹
const handleStart = (processKey) => {
  router.push(`/workflow/start/${processKey}`)
}

// æŸ¥çœ‹è¯¦æƒ…
const handleViewDetail = (process) => {
  ElMessage.info('æµç¨‹è¯¦æƒ…åŠŸèƒ½å¼€å‘ä¸­')
}

onMounted(() => {
  loadProcesses()
})
</script>

<style scoped>
.process-definitions {
  padding: 20px;
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.process-card {
  margin-bottom: 20px;
  cursor: pointer;
  transition: all 0.3s;
}

.process-card:hover {
  transform: translateY(-5px);
}

.process-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 15px;
}

.process-name {
  font-size: 18px;
  font-weight: bold;
}

.process-info {
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
}

.process-actions {
  display: flex;
  gap: 10px;
  justify-content: flex-end;
}
</style>
```

---

### Step 3: åˆ›å»ºå¾…åŠä»»åŠ¡é¡µé¢ (2-3å°æ—¶)

**æ–‡ä»¶**: `src/views/workflow/TodoTasks.vue`

_(ä»£ç å¤ªé•¿ï¼Œå°†åœ¨å®é™…å®ç°æ—¶æä¾›)_

---

### Step 4: åˆ›å»ºæµç¨‹å¯åŠ¨é¡µé¢ (1-2å°æ—¶)

**æ–‡ä»¶**: `src/views/workflow/StartProcess.vue`

_(ä»£ç å¤ªé•¿ï¼Œå°†åœ¨å®é™…å®ç°æ—¶æä¾›)_

---

### Step 5: é›†æˆè·¯ç”± (30åˆ†é’Ÿ)

**æ–‡ä»¶**: `src/router/index.js`
```javascript
{
  path: '/workflow',
  component: Layout,
  redirect: '/workflow/definitions',
  meta: { title: 'å·¥ä½œæµç®¡ç†', icon: 'Workflow' },
  children: [
    {
      path: 'definitions',
      component: () => import('@/views/workflow/ProcessDefinitions.vue'),
      name: 'ProcessDefinitions',
      meta: { title: 'æµç¨‹å®šä¹‰' }
    },
    {
      path: 'start/:processKey',
      component: () => import('@/views/workflow/StartProcess.vue'),
      name: 'StartProcess',
      meta: { title: 'å¯åŠ¨æµç¨‹' }
    },
    {
      path: 'tasks/todo',
      component: () => import('@/views/workflow/TodoTasks.vue'),
      name: 'TodoTasks',
      meta: { title: 'å¾…åŠä»»åŠ¡' }
    },
    {
      path: 'instances',
      component: () => import('@/views/workflow/ProcessInstances.vue'),
      name: 'ProcessInstances',
      meta: { title: 'æµç¨‹ç›‘æ§' }
    },
    {
      path: 'history',
      component: () => import('@/views/workflow/History.vue'),
      name: 'WorkflowHistory',
      meta: { title: 'å†å²æŸ¥è¯¢' }
    }
  ]
}
```

---

## ğŸ“… å¼€å‘æ’æœŸ

| ä»»åŠ¡ | é¢„è®¡æ—¶é—´ | ä¼˜å…ˆçº§ |
|------|---------|--------|
| APIæ¥å£å°è£… | 0.5å¤© | â­â­â­â­â­ |
| æµç¨‹å®šä¹‰åˆ—è¡¨ | 0.5å¤© | â­â­â­â­â­ |
| æµç¨‹å¯åŠ¨é¡µé¢ | 1å¤© | â­â­â­â­â­ |
| å¾…åŠä»»åŠ¡é¡µé¢ | 1.5å¤© | â­â­â­â­â­ |
| æµç¨‹ç›‘æ§é¡µé¢ | 1å¤© | â­â­â­â­ |
| å†å²æŸ¥è¯¢é¡µé¢ | 0.5å¤© | â­â­â­ |

**æ€»è®¡**: 5å¤©

---

## ğŸ¯ MVPå¿«é€Ÿç‰ˆæœ¬ï¼ˆ1-2å¤©ï¼‰

å¦‚æœæƒ³å¿«é€Ÿä¸Šçº¿ï¼Œå¯ä»¥å…ˆå®ç°æ ¸å¿ƒåŠŸèƒ½ï¼š

1. âœ… æµç¨‹å®šä¹‰åˆ—è¡¨ (0.5å¤©)
2. âœ… æµç¨‹å¯åŠ¨è¡¨å• (0.5å¤©)
3. âœ… å¾…åŠä»»åŠ¡åˆ—è¡¨ + å®Œæˆä»»åŠ¡ (1å¤©)

**3ä¸ªæ ¸å¿ƒé¡µé¢ = å¯ç”¨çš„å·¥ä½œæµç³»ç»Ÿï¼**

---

## ğŸš€ ç°åœ¨å¼€å§‹ï¼

æˆ‘å°†æŒ‰ä»¥ä¸‹é¡ºåºå®ç°ï¼š
1. âœ… åˆ›å»ºAPIæ¥å£å°è£…
2. âœ… å®ç°æµç¨‹å®šä¹‰åˆ—è¡¨é¡µé¢
3. âœ… å®ç°æµç¨‹å¯åŠ¨é¡µé¢
4. âœ… å®ç°å¾…åŠä»»åŠ¡é¡µé¢

å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹ç¼–ç ï¼ğŸ‰

